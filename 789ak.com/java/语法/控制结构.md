Java的控制结构语法与C/C++相似，分为：

- 顺序控制
- 分支控制（if，else，switch）
- 循环控制（for，while，do-while，多重循环）
- break
- continue
- return

在程序中，程序运行的流程控制决定程序是如何执行的，是我们必须掌握的，主要有三大流程控制语句。

1. 顺序控制
2. 分支控制
3. 循环控制

## 顺序控制

程序从上到下逐行地执行，中间没有任何判断和跳转。

顺序控制的注意事项：Java中定义成员变量时采用合法的前向引用。

```java
# -- 1
int num1 = 1;
int num2 = num1 + 3; 
# --- 对 ---

# -- 2
int num2 = num1 + 3;
int num1 = 1;
# --- 错 ---
```

## 分支控制

让程序有选择的执行，分支控制有三种

1. 单分支
2. 双分支
3. 多分支

### 单分支

基本语法

```java
if(条件表达式) {
	执行代码;
}
```

当条件表达式为true时，就会执行花括号内的代码。如果为false，就不执行。

> 如果花括号内只有一条语句，则可以不用花括号括起来。

```java
Scanner in = new Scanner(System.in);
int a = in.nextInt();
if(a >= 18) sout("已成年");
# ---- 或 ----
if(a >= 18) {
    sout("已成年");
}
```

### 双分支

基本语法

```java
if(条件表达式) {
	执行代码1;
} else {
	执行代码2;
}
```

当条件表达式成立，即执行代码块1，否则执行代码块2.

> 如果执行代码块只有一条语句，则花括号可以省略，否则不能省略。

```java
int age = in.nextInt();
if(age >= 18) sout("成年");
else sout("未成年");
```

### 多分支

基本语法

```java
if(条件表达式1) {
	执行代码块1;
} else if(条件代码块2) {
	执行代码块2;
} else {
	执行代码块3;
}
```

当条件表达式1成立时，即执行代码块1；如果表达式1不成立，才去判断表达式2是否成立；如果表达式2成立，就执行代码块2；以此类推。如果所有表达式都不成立则执行else的代码块。

> 多分支可以没有else。

```java
int age = in.nextInt();
if(age >= 65) sout("老人");
else if(age >= 18 && age < 65) sout("青壮年");
else sout("青少年");
```

### 嵌套分支

在一个分支结构中又完整嵌套了另一个完整的分支结构，里面的分支的结构称为内层分支，外面的分支结构称为外层分支。**嵌套不要超过三层，可读性不好。**

e.g.

```java
int age,empNo;
if(empNo > 34) {
	if(age > 45) {
		...
	}
}
```

### switch分支结构

基本语法

```java
switch(表达式) {
	case 常量1:
		语句块1;
		break;
	case 常量2:
		语句块2;
		break;
	default:
		语句块;
		break;
}
```

switch关键字，表示switch分支。表达式对应一个值。case 常量 表示当表达式的值等于常量1时就执行语句块1。break 表示退出switch。如果一个都没有匹配上，就执行default。

e.g.

```java
char ch = in.next().charAt(0);
switch(ch) {
	case 'a':
		sout("星期一");
		break;
	case 'b':
		sout("星期二");
		break;
	default :
		sout("不知道");
		break;
}
```

switch细节讨论

1. 表达式数据类型应和case后的常量类型一致，或者是可以自动转成可以相互比较的类型，比如输入的是字符，而常量是int。
2. switch(表达式)中表达式的返回值必须是：byte short int char enum String
3. case子句中的值必须是常量，而不能是变量。
4. default子句是可选的，当没有匹配的case时，执行default
5. break语句用来在执行完一个case分支后使程序跳出switch语句块；如果没有写break，程序会顺序执行到switch结尾。

### switch 和 if 的比较

- 如果判断的具体数值不多，而且符合byte，short，int，char，enum，String这六种类型。虽然两个语句都可以使用，建议使用switch语句。
- 其他情况：对区间判断，对结果为boolean类型判断，使用if，if的使用范围更广。

## 循环控制

### for循环

基本语法

```java
for(循环变量初始化; 循环条件; 循环变量迭代) {
	循环操作;
}
```

说明

1. for关键字，表示循环控制
2. for有四要素
   - 循环变量初始化
   - 循环条件
   - 循环操作
   - 循环变量迭代
3. 循环操作这里可以有多条语句，也就是我们要循环执行的代码
4. 如果循环操作（语句）只有一条语句，可以省略花括号，**建议不要省略**

注意事项和细节说明

1. 循环条件是返回一个布尔值的表达式
2. for(;循环条件;)中的初始化和变量迭代可以写到其他地方，但是两边的分号不能省略
3. 循环初始值可以有多条初始化语句，但要求类型一样，并且中间用逗号隔开

```java
ina a = in.nextInt();
for(int i = 1; i <= a; ++i) {
	sout(i);
}
```

### while循环

基本语法

```java
循环变量初始化;
while(循环条件) {
	循环操作;
	循环变量迭代;
}
```

注意事项和细节说明

1. 循环条件是返回一个布尔值的表达式
2. while循环是先判断再执行语句

```java
int a = 34, i = 0;
while(i < a) {
	sout(i);
	i++;
}
```

### do-while循环

基本语法

```java
do {
	循环操作;
	循环变量迭代;
} while(循环条件);
```

说明：do-while也是关键字。也有循环四要素，只是位置不同。**先执行，再判断**，也就是说，一定会执行一次。最后有一个分号。

```java
int a = 34, i = 0;
do {
	sout(i);
	++i;
} while(i < a);
```

### 多重循环控制

将一个循环放在另一个循环体内，就形成了嵌套循环。其中 for，while，do-while均可以作为外层循环和内层循环。（建议一般使用两层，最多不要超过3层，否则代码可读性会很差）

实质上，嵌套循环就是把内层循环当成外层循环的循环体。当只有内层循环的循环条件为false时，才会完全跳出内层循环，才可结束外层的当次循环，开始下一次的循环。

如果外层循环为m次，内层循环为n次，则内外循环体实际需要执行m*n次。

```java
int a = 34,b = 3434;
int sum = 0;
for(int i = 0; i < a; ++i) {
	for(int j = 0; j < b; ++j) {
		sum += i + j / 2 + j / 3;
	}
}
```

## 跳转控制语句 - break

break语句用于终止某个语句块的执行，一般使用在switch或者循环中

注意事项和细节说明

1. break语句出现在多层嵌套的语句块中时，可以通过标签指明要终止的是哪一层的语句块
2. 标签的基本使用

```java
label1: {
	label2: {
		label3: {
			label4: {
				break label2;
			}
		}
	}
}
```

> - break语句可以指定退出哪层
> - label1是标签，由程序员决定
> - break后指定到哪个label就退出到哪里
> - 在实际的开发中，尽量不要使用标签
> - 如果没有指定break，**默认退出最近的循环体**

## 跳转控制语句 - continue

continue语句用于结束本次循环，继续执行下一次循环。continue语句出现在多层嵌套的循环语句体中时，可以通过标签指明要跳过的是哪一层循环，这个和前面的标签的使用规则一样。

## 跳转控制语句 - return

return使用在方法，表示跳出所在的方法。