### 纯数据字段

> 纯数据字段指的是那些不用于界面渲染的data字段。
>
> 应用场景：某些情况下，某些data中的字段既不会展示在界面上，也不会传递给其他组件，仅仅在当前组件内部使用。带有这种特性的data字段适合被设置为纯数据字段。
>
> 好处：纯数据字段有助于提升页面更新的性能。

在Component构造器的options节点中，指定pureDataPattern为一个正则表达式，字段名符合这个正则表达式的字段将成为纯数据字段。

```js
Component({
  options: {
    styleIsolation: "isolated",
    pureDataPattern: /^_/ // 前缀带”_“的为纯数据
  },
  ...
  
})
```

### 组件的生命周期

![image-20230502175748579](http://cdn.789ak.com/img/image-20230502175748579.png)

#### 组件主要的生命周期

在小程序组件中，最重要的生命周期函数有3个，分别为`created、attached、detached`。它们各自的特点如下：

1. 组件实例**刚被创建好**的时候，created生命周期函数会被触发
   - 此时还不能调用setData()
   - 通常在这个生命周期函数中，只应该用于给组件的this添加一些自定义的属性字段
2. 在组件**完全初始化完毕，进入页面节点树后**，attached生命周期函数会被触发
   - 此时，this.data已经初始化完毕
   - 这个生命周期很有用，绝大多数初始化的工作可以在这个时机进行
3. 在组件**离开页面节点树后**，datached生命周期函数会被触发
   - 退出一个页面时，会触发页面内每一个自定义组件的detached生命周期函数
   - 此时适合做一些清理性质的工作

#### lifetimes节点

在小程序组件中，生命周期函数可以直接定义在Component构造器的第一级参数中，可以在lifetimes字段内进行声明（推荐）。

```js
Component ({
	lifetimes: {
		attached() {},
		detached() {},
	},
	....
})
```

#### 组件所在页面的生命周期

有时，自定义组件的行为依赖于页面状态的变化，此时就需要用到组件所在页面的生命周期。

![image-20230502180701660](http://cdn.789ak.com/img/image-20230502180701660.png)

#### pageLifetimes节点

组件所在页面的生命周期函数，需要定义在pageLifetimes节点中。

```js
Component({
	pageLifetimes: {
		show: function() {},
		hide: function() {},
		resize: function() {}
	}
    ....
})
```

