页面导航指的是页面之间的相互跳转。

小程序中实现页面导航的两种方式：

- 声明式导航
  - 在页面上声明一个<navigator\>导航组件
  - 通过点击<navigator\>组件实现页面跳转
- 编程式导航
  - 调用小程序的导航api，实现页面的跳转

## 声明式导航

### 导航到tabBar页面

tabBar页面指的是被配置为tabBar的页面。

在使用<navigator\>组件跳转到指定的tabBar页面时，需要指定url属性和open-type属性，其中：

- url表示要跳转的页面的地址，**必须以/开头**。
- open-type表示跳转的方式，必须为switchTab。

```html
<navigator url="/pages/list/list" open-type="switchTab">导航到list页面</navigator>
```

### 导航到非tabBar页面

非tabBar页面指的是没有被配置为tabBar的页面。

在使用<navigator\>组件跳转到普通的非tabBar页面时，则需要指定url属性和open-type属性，其他：

- url表示要跳转的页面的地址，**必须以/开头。
- open-type="navigate"。

```html
<navigator url="/pages/test/test" open-type="navigate">导航到test页面</navigator>

```

> 注意：为了简便，在导航到非tabBar页面时，open-type="navigate"属性可以省略。

### 后退导航

如果要后退到上一页面或者多级页面，则需要指定open-type属性和delta属性，其中：

- open-type="navigateBack"
- delta="num" // num为数字，表示要后退的层级

```html
<navigator open-type="navigateBack" delta="1">回退一级</navigator>

```

> 注意：为了简便，如果只是后退到上一页面，则可以省略delta属性，delta属性默认为1。

## 编程式导航

### 导航到tabBar页面

调用`wx.switchTab(Object object)`方法，可以跳转到tabBar页面。其中Object对象的属性参数如下：

![image-20230430232902681](http://cdn.789ak.com/img/image-20230430232902681.png)

```
<!-- wxml -->
<button bindtap="gotoHome">回到home页面</button>

// .js
 gotoHome(e) {
    wx.switchTab({
      url: '/pages/index/index',
    })
  }
```

### 导航到非tabBar页面

调用`wx.navigateTo(Object object)`方法，可以跳转到非tabBar的页面。Object对象属性如上。

```
<!-- wxml -->
<button bindtap="gotoTest">回到test页面</button>

// .js
  gotoTest(e) {
    wx.navigateTo({
      url: '/pages/test/test',
    })
  }
```

### 后退导航

调用`wx.navigateBack(Object object)`方法，可以返回上一页面或多级页面，其中Object参数对象可选的属性列表如下：

![image-20230430233327859](http://cdn.789ak.com/img/image-20230430233327859.png)

```
<!-- wxml -->
<button bindtap="back_func">回退</button>

// .js
back_func(e) {
    wx.navigateBack()
  } // delta默认为1，可以省略
```

## 导航传参

### 声明式导航传参

navigator组件的url属性用来指定将要跳转的页面的路径。同时，路径的后面还可以携带参数：

- 参数与路径之间用？分割
- 参数键与参数键用=相连
- 不同参数用&分隔

```html
<navigator url="/pages/test/test?name=zhangs&age=134" open-type="navigate">传参回到test页面</navigator>

```

### 编程式导航传参

调用`wx.navigateTo(Object object)`方法跳转页面时，也可以携带参数，代码如下：

```
<!-- wxml -->
<button bindtap="gotoTest2">dsfdsf</button>

// .js
  gotoTest2(e) {
    wx.navigateTo({
      url: '/pages/test/test?name=34&age=34',
    })
  }
```

### 在onload中接收导航参数

通过两种方式所携带的参数，可以直接在`onLoad`事件中直接获取到。

```js
onLoad(options) {
    console.log(options)
  }
```

可以在data中创建一个空对象，在`onLoad`中将传进来的参数赋值给data中创建的空对象。

```js
  data: {
    query: {}
  },
  
  onLoad(options) {
    console.log(options)
    this.setData({
      query: options
    })
  },
```

